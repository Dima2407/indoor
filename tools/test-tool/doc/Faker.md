# Faker User Guide

Faker is a program that generates a fake beacon measurements log (RSSI vs timestamp for each beacon)
for a uniform motion of the observer from (t1, r1) to  (t2, r2). Faker needs for each beacon:
beacon coordinates (x,y,z), beacon data (txPower, damp) and beacon times (how often is the signal generated).

Note: while coordinate z is supported by both Faker and Tester, the location function in
tracking_lib used by Tester is currently
2D (in the xy plane) only. 

Both JSON and DAT formats are used. If the file extension is .json (ignoring case),
it is treated as a JSON file, otherwise it is assumed to be DAT.

# Input files:

Faker needs 3 input files (see examples in __sample\_inputs/__). 

1. Configuration file (JSON ONLY) __in\_fakerconfig.json__
2. Beacons input file (JSON or DAT) (see __in\_beacons.json__ or __in\_beacons.dat__ )
3. Beacon times input file (JSON or DAT) (see __in\_times.json__ or  __in\_times.dat__ )


## 1. Configuration file __in\_fakerconfig.json__ :

This is a single JSON object with properties:

* __inBeaconFile__    : (_String_)   Name of the beacons input file (JSON or DAT).  
* __inTimesFile__     : (_String_)   Name of the beacon times input file (JSON or DAT).
* __outEventsFile__   : (_String_)   Name of the events output file (JSON or DAT).
* __t1__              : (_Double_)   Time t1.
* __t2__              : (_Double_)   Time t2.
* __point1__          : (_3Vector_)  Point r1.
* __point1__          : (_3Vector_)  Point r2.
* __ticks__           : (_Double_)   Number of timeline ticks per time unit.

_3Vector_ is written as [x, y, z], where x, y, z are Doubles. If the time unit is seconds, and timestamp is
in milliseconds, then __ticks__ = 1000. The results are generated for a uniform motion from (t1, r1) to (t2, r2).
If you have at least 3 beacons, this route should be (approximately) reproduced by Tester.

## 2. Beacons input file ( e.g. __in\_beacons.json__ or __in\_beacons.dat__ ) :

Has the following data for each beacon:

* __xyz__        : (_3Vector_)  Beacon position.
* __hash__       : (_Int64_)    Beacon unique ID
* __TXpower__    : (_Double_)   Beacon emission power.
* __damp__       : (_Double_)   Beacon damping parameter.

__hash__ can be replaced by a String __MACaddress__  in the form "01:17:C5:5D:16:5A", in JSON input file only. 
Note: the beacons data is generated by calibration, in the future it will be somehow connnected to indoor-tool.

JSON file format:

[ beacon1, beacon2, ... ]

DAT file format, one line/beacon:

__x__ __y__ __z__ __hash__ __TXpower__ __damp__


## 3. Beacon times file (e.g. __in\_times.json__ or  __in\_times.json__ ) :

It has the following data for each beacon:

* __hash__       : (_Int64_)    Beacon unique ID (or String __MACaddress__  in JSON only)
* __t1__         : (_Double_)   Beacon first event time (start time)
* __t2__         : (_Double_)   Beacon end time
* __period__     : (_Double_)   Beacon period (time interval between events)

JSON file format:

[ btime1, btime2, ... ]

DAT file format, one line/btime:

__hash__  __t1__ __t2__ __period__ 

# Output file (__out\_event.json__ or  __out\_event.dat__):


The output file contains measurement events (RSSI and beacon hash) vs timestamp,
see. This output file is the input file for Tester.